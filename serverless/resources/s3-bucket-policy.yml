Type: AWS::S3::BucketPolicy
Properties:
  Bucket: !Ref StaticSite
  PolicyDocument:
    Statement:
      - Sid: AllowCloudFrontServicePrincipal
        Effect: Allow
        Principal:
          Service: cloudfront.amazonaws.com
        Action:
          - s3:GetObject
        Resource: arn:aws:s3:::${self:service}-${self:provider.stage}-prototype/*
        Condition:
          StringEquals:
            "AWS:SourceArn": !Sub arn:aws:cloudfront::${AWS::AccountId}:distribution/${CloudFrontDistribution}
